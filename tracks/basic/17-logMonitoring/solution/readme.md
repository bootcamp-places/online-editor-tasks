# logMonitoring

Ğ Ğ¾Ğ·Ğ²'ÑĞ·Ğ°Ğ½Ğ½Ñ Ñ†Ñ–Ñ”Ñ— Ğ·Ğ°Ğ´Ğ°Ñ‡Ñ– Ğ¼Ğ¾Ğ¶Ğµ Ğ²Ğ¸Ğ³Ğ»ÑĞ´Ğ°Ñ‚Ğ¸ Ğ¾ÑÑŒ Ñ‚Ğ°Ğº:

```js
export const logMonitoring = (string = "", dates = "") => {
  // 1. Ğ’Ğ¸ĞºĞ¾Ñ€Ğ¸ÑÑ‚Ğ¾Ğ²ÑƒÑÑ‡Ğ¸ Ğ·Ğ°Ğ´Ğ°Ğ½Ğ¸Ğ¹ ÑĞ¿Ğ¸ÑĞ¾Ğº Ñ€Ğ¾Ğ·Ğ´Ñ–Ğ»ÑŒĞ½Ğ¸ĞºÑ–Ğ², Ğ²Ğ¸Ğ·Ğ½Ğ°Ñ‡Ğ¸Ñ‚Ğ¸
  let separator = "";
  if (dates.includes("...")) {
    separator = "...";
  } else if (dates.includes(";")) {
    separator = ";";
  } else {
    separator = " - ";
  }
  // Ğ¿ĞµÑ€Ñ–Ğ¾Ğ´ Ğ´Ğ°Ñ‚, Ğ´Ğ»Ñ ÑĞºĞ¸Ñ… Ñ‚Ñ€ĞµĞ±Ğ° Ğ·Ñ€Ğ¾Ğ±Ğ¸Ñ‚Ğ¸ Ğ¼Ğ¾Ğ½Ñ–Ñ‚Ğ¾Ñ€Ğ¸Ğ½Ğ³
  const [startDateString, endDateString] = dates.split(separator);
  const startDate = new Date(startDateString);
  const endDate = new Date(endDateString + "T23:59:59.999");

  // 2. Ğ”Ğ»Ñ Ğ½Ğ°Ğ´Ğ°Ğ½Ğ¾Ğ³Ğ¾ Ğ»Ğ¾Ğ³-Ñ„Ğ°Ğ¹Ğ»Ñƒ Ğ¾Ñ‚Ñ€Ğ¸Ğ¼Ğ°Ñ‚Ğ¸ Ğ¼Ğ°ÑĞ¸Ğ² Ğ·Ğ°Ğ¿Ğ¸ÑÑ–Ğ²
  const logs = string.split("\n");

  // 3. Ğ’Ğ¸ĞºĞ¾Ñ€Ğ¸ÑÑ‚Ğ¾Ğ²ÑƒÑÑ‡Ğ¸ ÑĞ¿Ğ¸ÑĞ¾Ğº ÑÑ‚Ğ°Ñ‚ÑƒÑÑ–Ğ²,
  const CRITICAL = ["CRIT", "ĞšĞ Ğ˜Ğ¢", "ä¸¥é‡"];
  const result = logs.filter((l) => {
    // Ğ²Ğ¸Ğ´Ñ–Ğ»Ğ¸Ñ‚Ğ¸ Ğ½ĞµĞ¾Ğ±Ñ…Ñ–Ğ´Ğ½Ñ– Ñ„Ñ€Ğ°Ğ³Ğ¼ĞµĞ½Ñ‚Ğ¸
    const log = l.split(";");
    const date = new Date(log[0]); // Ğ· Ğ´Ğ°Ñ‚Ğ¾Ñ
    const status = log[1]; // Ñ‚Ğ° ÑÑ‚Ğ°Ñ‚ÑƒÑĞ¾Ğ¼

    // 4. Ğ”Ğ»Ñ ĞºĞ¾Ğ¶Ğ½Ğ¾Ğ³Ğ¾ Ğ·Ğ°Ğ¿Ğ¸ÑÑƒ Ğ¿ĞµÑ€ĞµĞ²Ñ–Ñ€Ğ¸Ñ‚Ğ¸,
    if (
      // Ñ‡Ğ¸ Ğ½Ğµ Ñ” Ğ²Ñ–Ğ½ ĞºÑ€Ğ¸Ñ‚Ğ¸Ñ‡Ğ½Ğ¸Ğ¼
      CRITICAL.includes(status) &&
      // Ñ– Ğ¿Ğ¾Ğ¿Ğ°Ğ´Ğ°Ñ” Ğ² Ğ·Ğ°Ğ´Ğ°Ğ½Ğ¸Ğ¹ Ğ¿ĞµÑ€Ñ–Ğ¾Ğ´ Ğ´Ğ°Ñ‚
      date.getTime() > startDate.getTime() &&
      date.getTime() < endDate.getTime()
    ) {
    // 5. ĞŸÑ€Ğ¸ Ğ¾Ñ‚Ñ€Ğ¸Ğ¼Ğ°Ğ½Ğ½Ñ– Ğ¿Ğ¾Ğ·Ğ¸Ñ‚Ğ¸Ğ²Ğ½Ğ¾Ğ³Ğ¾ Ñ€ĞµĞ·ÑƒĞ»ÑŒÑ‚Ğ°Ñ‚Ñƒ - Ğ·Ğ°Ğ¿Ğ¸ÑĞ°Ñ‚Ğ¸ Ğ¹Ğ¾Ğ³Ğ¾
      return true;
    } else {
      return false;
    }
  });
  // 6. Ğ¯ĞºÑ‰Ğ¾ ĞºÑ–Ğ»ÑŒĞºÑ–ÑÑ‚ÑŒ ĞºÑ€Ğ¸Ñ‚Ğ¸Ñ‡Ğ½Ğ¸Ñ… ÑÑ‚Ğ°Ñ‚ÑƒÑÑ–Ğ² Ğ±Ñ–Ğ»ÑŒÑˆĞµ 0 - Ğ¿Ğ¾Ğ²ĞµÑ€Ğ½ÑƒÑ‚Ğ¸ `true`
  return result.length > 0;
}
```

Ğ Ğ¾Ğ·Ğ±ĞµÑ€ĞµĞ¼Ğ¾ Ğ°Ğ»Ğ³Ğ¾Ñ€Ğ¸Ñ‚Ğ¼ Ğ´Ñ–Ğ¹ Ñ– Ğ¿Ñ€Ğ¸Ğ²ĞµĞ´ĞµĞ½Ğ¸Ğ¹ Ğ²Ğ°Ñ€Ñ–Ğ°Ğ½Ñ‚ Ñ€Ñ–ÑˆĞµĞ½Ğ½Ñ, Ğ° Ñ‚Ğ°ĞºĞ¾Ğ¶ Ğ·Ğ°ÑÑ‚Ğ¾ÑÑƒÑ”Ğ¼Ğ¾ Ğ´ĞµÑĞºÑ– Ğ¿Ñ€Ğ¸Ğ½Ñ†Ğ¸Ğ¿Ğ¸ Ğ¿Ñ€Ğ¾Ğ³Ñ€Ğ°Ğ¼ÑƒĞ²Ğ°Ğ½Ğ½Ñ Ğ´Ğ»Ñ ÑĞ¿Ñ€Ğ¾Ñ‰ĞµĞ½Ğ½Ñ Ğ½Ğ°ÑˆĞ¾Ğ³Ğ¾ ĞºĞ¾Ğ´Ñƒ.

ĞŸĞµÑ€ÑˆĞ¸Ğ¹ Ğ¿ÑƒĞ½ĞºÑ‚ Ğ·Ğ²ÑƒÑ‡Ğ¸Ñ‚ÑŒ Ñ‚Ğ°Ğº: "Ğ’Ğ¸ĞºĞ¾Ñ€Ğ¸ÑÑ‚Ğ¾Ğ²ÑƒÑÑ‡Ğ¸ Ğ·Ğ°Ğ´Ğ°Ğ½Ğ¸Ğ¹ ÑĞ¿Ğ¸ÑĞ¾Ğº Ñ€Ğ¾Ğ·Ğ´Ñ–Ğ»ÑŒĞ½Ğ¸ĞºÑ–Ğ², Ğ²Ğ¸Ğ·Ğ½Ğ°Ñ‡Ğ¸Ñ‚Ğ¸ Ğ¿ĞµÑ€Ñ–Ğ¾Ğ´ Ğ´Ğ°Ñ‚, Ğ´Ğ»Ñ ÑĞºĞ¸Ñ… Ñ‚Ñ€ĞµĞ±Ğ° Ğ·Ñ€Ğ¾Ğ±Ğ¸Ñ‚Ğ¸ Ğ¼Ğ¾Ğ½Ñ–Ñ‚Ğ¾Ñ€Ğ¸Ğ½Ğ³".

ĞĞ°Ğ¹Ğ¿Ñ€Ğ¾ÑÑ‚Ñ–ÑˆĞ¸Ğ¼ ÑĞ¿Ğ¾ÑĞ¾Ğ±Ğ¾Ğ¼ Ñ€Ğ¾Ğ·Ğ´Ñ–Ğ»ĞµĞ½Ğ½Ñ ÑÑ‚Ñ€Ğ¾ĞºĞ¸ Ğ´Ğ°Ñ‚, Ñ” Ğ²Ğ¸ĞºĞ¾Ñ€Ğ¸ÑÑ‚Ğ°Ğ½Ğ½Ñ Ğ¼ĞµÑ‚Ğ¾Ğ´Ñƒ `split`, Ğ°Ğ»Ğµ Ñ†ĞµĞ¹ Ğ¼ĞµÑ‚Ğ¾Ğ´ Ğ¿Ñ€Ğ¸Ğ¹Ğ¼Ğ°Ñ” Ñ‚Ñ–Ğ»ÑŒĞºĞ¸ Ğ¾Ğ´Ğ½Ğµ Ğ·Ğ½Ğ°Ñ‡ĞµĞ½Ğ½Ñ, Ñ‚Ğ¾Ğ¼Ñƒ Ğ½ĞµĞ¾Ğ±Ñ…Ñ–Ğ´Ğ½Ğ¾ Ğ¿ĞµÑ€ĞµĞ²Ñ–Ñ€Ğ¸Ñ‚Ğ¸ Ğ½Ğ° ĞºĞ¾Ğ¶Ğ½Ğ¸Ğ¹ Ñ€Ğ¾Ğ·Ğ´Ñ–Ğ»ÑŒĞ½Ğ¸Ğº Ñ–Ğ· Ğ·Ğ°Ğ´Ğ°Ğ½Ğ¾Ğ³Ğ¾ ÑĞ¿Ğ¸ÑĞºÑƒ. ĞÑ‚Ñ€Ğ¸Ğ¼Ğ°Ñ”Ğ¼Ğ¾ Ğ¼Ğ°ÑĞ¸Ğ² Ñ–Ğ· Ğ´Ğ²Ğ¾Ñ… Ğ´Ğ°Ñ‚. Ğ¦ĞµĞ¹ Ğ¼Ğ°ÑĞ¸Ğ² Ğ¼Ğ¾Ğ¶Ğ½Ğ° Ğ¾Ğ´Ñ€Ğ°Ğ·Ñƒ Ğ¿Ñ€Ğ¸ÑĞ²Ğ¾Ñ—Ñ‚Ğ¸ Ğ·Ğ¼Ñ–Ğ½Ğ½Ğ¸Ğ¼, Ğ²Ğ¸ĞºĞ¾Ñ€Ğ¸ÑÑ‚Ğ¾Ğ²ÑƒÑ [Ğ´ĞµÑÑ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ğ¸Ğ·Ğ°Ñ†Ñ–Ğ¹Ğ½Ğµ Ğ¿Ñ€Ğ¸ÑĞ²Ğ¾Ñ”Ğ½Ğ½Ñ](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Destructuring_assignment).

ĞŸÑ–ÑĞ»Ñ Ñ†ÑŒĞ¾Ğ³Ğ¾, Ğ½Ğ°Ğ¼ Ñ‚Ñ€ĞµĞ±Ğ° Ğ¿ĞµÑ€ĞµÑ‚Ğ²Ğ¾Ñ€Ğ¸Ñ‚Ğ¸ Ğ¾Ñ‚Ñ€Ğ¸Ğ¼Ğ°Ğ½Ñ– ÑÑ‚Ñ€Ğ¾ĞºĞ¸ Ğ½Ğ° Ğ´Ğ°Ñ‚Ñƒ Ñ‚Ğ¸Ğ¿Ñƒ [Date]((https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date)). Ğ—Ğ²ĞµÑ€Ğ½Ñ–Ñ‚ÑŒ ÑƒĞ²Ğ°Ğ³Ñƒ, Ñ‰Ğ¾ Ğ¿Ñ€Ğ¸ Ğ²Ğ¸ĞºĞ¾Ğ½Ğ°Ğ½Ğ½Ñ– ĞºĞ¾Ğ´Ñƒ

```js
new Date('2022-01-22');
// Sat Jan 22 2022 01:00:00 GMT+0100 (Central European Standard Time)
```

Ğ¼Ğ¸ Ğ¾Ñ‚Ñ€Ğ¸Ğ¼Ğ°Ñ”Ğ¼Ğ¾ Ñ‡Ğ°Ñ `00:00:00 GMT`, Ğ° Ğ½Ğ°Ğ¼ Ğ¿Ğ¾Ñ‚Ñ€Ñ–Ğ±Ğ½Ğ¾, Ñ‰Ğ¾Ğ± Ğ´Ñ€ÑƒĞ³Ğ° Ğ´Ğ°Ñ‚Ğ° Ğ²Ñ€Ğ°Ñ…Ğ¾Ğ²ÑƒĞ²Ğ°Ğ»Ğ°ÑÑŒ Ğ´Ğ¾ ĞºÑ–Ğ½Ñ†Ñ Ğ²ĞºĞ°Ğ·Ğ°Ğ½Ğ¾Ğ³Ğ¾ Ğ´Ğ½Ñ, Ğ´Ğ»Ñ Ñ†ÑŒĞ¾Ğ³Ğ¾ Ğ´Ğ¾Ğ´Ğ°Ğ¼Ğ¾ Ğ´Ğ¾ ĞºÑ–Ğ½Ñ†ĞµĞ²Ğ¾Ñ— Ğ´Ğ°Ñ‚Ğ¸ Ñ‡Ğ°Ñ ÑĞ°Ğ¼Ğ¾ÑÑ‚Ñ–Ğ¹Ğ½Ğ¾: `endDateString + "T23:59:59.999"`.

Ğ”Ğ°Ğ²Ğ°Ğ¹Ñ‚Ğµ Ñ‚ÑƒÑ‚ Ğ²Ğ¸ĞºĞ¾Ñ€Ğ¸ÑÑ‚Ğ°Ñ”Ğ¼Ğ¾ [Ğ¿Ñ€Ğ¸Ğ½Ñ†Ğ¸Ğ¿ KISS](https://uk.wikipedia.org/wiki/%D0%9F%D1%80%D0%B8%D0%BD%D1%86%D0%B8%D0%BF_%C2%ABKISS%C2%BB) Ñ– ÑĞ¿Ñ€Ğ¾ÑÑ‚Ğ¸Ğ¼Ğ¾ Ğ»Ğ°Ğ½Ñ†ÑĞ¶Ğ¾Ğº `if`. Ğ”Ğ»Ñ Ñ†ÑŒĞ¾Ğ³Ğ¾ ÑÑ‚Ğ²Ğ¾Ñ€Ğ¸Ğ¼Ğ¾ ÑĞ¿Ğ¸ÑĞ¾Ğº ÑĞµĞ¿Ğ°Ñ€Ğ°Ñ‚Ğ¾Ñ€Ñ–Ğ² Ñ– Ğ¿ĞµÑ€ĞµĞ²Ñ–Ñ€Ğ¸Ğ¼Ğ¾, ÑĞºĞ¸Ğ¹ ÑĞ°Ğ¼Ğµ Ğ±ÑƒĞ»Ğ¾ Ğ²Ğ¸ĞºĞ¾Ñ€Ğ¸ÑÑ‚Ğ°Ğ½Ğ¾ Ğ´Ğ»Ñ Ğ² ÑĞºĞ¾ÑÑ‚Ñ– Ñ€Ğ¾Ğ·Ğ´Ñ–Ğ»ÑŒĞ½Ğ¸ĞºĞ°:

```js
const separators = [";", "...", ' - '];
const separator = separators.filter(s => dates.includes(s))
```

Ğ¢Ğ°Ğº ĞºĞ¾Ğ´ ÑÑ‚Ğ°Ğ² Ñ‚Ñ€Ğ¾Ñ…Ğ¸ Ğ¿Ñ€Ğ¾ÑÑ‚Ñ–ÑˆĞ¸Ğ¼. ĞĞ»Ğµ Ğ¼Ğ¸ Ğ¼Ğ¾Ğ¶ĞµĞ¼Ğ¾ Ğ¹Ğ¾Ğ³Ğ¾ Ñ‰Ğµ ÑĞ¿Ñ€Ğ¾ÑÑ‚Ğ¸Ñ‚Ğ¸, Ğ¿Ñ€Ğ¸Ğ±Ñ€Ğ°Ğ²ÑˆĞ¸ Ğ·Ğ¼Ñ–Ğ½Ğ½Ñƒ `separators` Ñ– Ğ²Ğ¸ĞºĞ»Ğ¸ĞºĞ°Ñ‚Ğ¸ Ğ¼ĞµÑ‚Ğ¾Ğ´ Ğ½Ğ°Ğ¿Ñ€ÑĞ¼Ñƒ:

```js
const separator = [";", "...", " - "].filter((s) => dates.includes(s));
```

Ğ†Ğ¼Ğ¿Ğ»ĞµĞ¼ĞµĞ½Ñ‚Ğ°Ñ†Ñ–Ñ Ğ²ÑÑ–Ñ… Ğ½Ğ°ÑÑ‚ÑƒĞ¿Ğ½Ğ¸Ñ… Ğ¿ÑƒĞ½ĞºÑ‚Ñ–Ğ² Ğ°Ğ»Ğ³Ğ¾Ñ€Ğ¸Ñ‚Ğ¼Ñƒ Ğ¿Ñ€ĞµĞ´ÑÑ‚Ğ°Ğ²Ğ»ĞµĞ½Ğ¾ Ğ² Ñ€Ñ–ÑˆĞµĞ½Ğ½Ñ– Ğ²Ğ¸Ñ‰Ğµ. Ğ¯Ğº Ğ²Ğ¸Ğ´Ğ½Ğ¾, Ñƒ Ğ½Ğ°Ñ Ñ” Ğ±Ğ°Ğ³Ğ°Ñ‚Ğ¾ Ğ¿Ğ¾Ğ²Ñ‚Ğ¾Ñ€ÑĞ²Ğ°Ğ½ÑŒ (Ğ½Ğ°Ğ¿Ñ€Ğ¸ĞºĞ»Ğ°Ğ´, Ğ¼ĞµÑ‚Ğ¾Ğ´ `getTime` Ñ– ĞºĞ¾Ğ½ÑÑ‚Ñ€ÑƒĞºÑ‚Ğ¾Ñ€ `new Date` Ğ²Ğ¸ĞºĞ»Ğ¸ĞºĞ°ÑÑ‚ÑŒÑÑ Ğ´ĞµĞºÑ–Ğ»ÑŒĞºĞ° Ñ€Ğ°Ğ·Ñ–Ğ²), Ñ‚Ğ¾Ğ¼Ñƒ Ğ¼Ğ¸ Ğ²Ğ¸ĞºĞ¾Ñ€Ğ¸ÑÑ‚Ğ°Ñ”Ğ¼Ğ¾ [Ğ¿Ñ€Ğ¸Ğ½Ñ†Ğ¸Ğ¿ DRY](https://uk.wikipedia.org/wiki/Don%27t_repeat_yourself).

Ğ¡Ñ‚Ğ²Ğ¾Ñ€Ğ¸Ğ¼Ğ¾ Ğ´Ğ¾Ğ¿Ğ¾Ğ¼Ñ–Ğ¶Ğ½Ñƒ Ñ„ÑƒĞ½ĞºÑ†Ñ–Ñ, Ğ´Ğ»Ñ Ğ¿ĞµÑ€ĞµÑ‚Ğ²Ğ¾Ñ€ĞµĞ½Ğ½Ñ ÑÑ‚Ñ€Ğ¾ĞºĞ¸ Ğ² Ñ‚Ğ¸Ğ¿ Date Ñ– Ğ¾Ñ‚Ñ€Ğ¸Ğ¼Ğ°Ğ½Ğ½Ñ Ñ‡Ğ°ÑÑƒ.

```js
const time = (t) => new Date(t).getTime();
```

Ğ¢Ğ°ĞºĞ¸Ğ¼ Ñ‡Ğ¸Ğ½Ğ¾Ğ¼, Ğ¼Ğ¾Ğ¶Ğ½Ğ° Ğ·Ğ¼Ñ–Ğ½Ğ¸Ñ‚Ğ¸ ĞºĞ¾Ğ´, Ğ´Ğµ Ğ¼Ğ¸ Ğ¾Ñ‚Ñ€Ğ¸Ğ¼ÑƒÑ”Ğ¼Ğ¾ Ğ¿Ğ¾Ñ‡Ğ°Ñ‚ĞºĞ¾Ğ²Ñƒ Ñ‚Ğ° ĞºÑ–Ğ½Ñ†ĞµĞ²Ñ– Ğ´Ğ°Ñ‚Ğ¸, Ğ±Ğ¾ Ğ½Ğ°Ğ¼ Ñ‚ĞµĞ¿ĞµÑ€ Ğ¿Ğ¾Ñ‚Ñ€Ñ–Ğ±Ğ½Ğ° Ñ‚Ñ–Ğ»ÑŒĞºĞ¸ `String`. ĞœĞ¾Ğ¶ĞµĞ¼Ğ¾ Ğ²Ğ¸ĞºĞ¾Ñ€Ğ¸ÑÑ‚Ğ°Ñ‚Ğ¸ Ğ¼ĞµÑ‚Ğ¾Ğ´ `map` Ñ– Ğ¾Ğ±Ñ€Ğ¾Ğ±Ğ¸Ñ‚Ğ¸ ÑÑ‚Ñ€Ğ¾ĞºÑƒ Ğ¿ĞµÑ€Ñ–Ğ¾Ğ´Ñƒ Ğ´Ğ°Ñ‚ Ñ‚Ğ°Ğº, Ñ‰Ğ¾Ğ± Ğ´Ğ¾ Ğ´Ñ€ÑƒĞ³Ğ¾Ñ— Ğ´Ğ°Ñ‚Ğ¸ Ğ´Ğ¾Ğ±Ğ°Ğ²Ğ¸Ñ‚Ğ¸ ÑÑƒÑ„Ñ–ĞºÑ Ğ· Ñ‡Ğ°ÑĞ¾Ğ¼, Ğ²Ğ¸ĞºĞ¾Ñ€Ğ¸ÑÑ‚Ğ¾Ğ²ÑƒÑÑ‡Ğ¸ Ñ–Ğ½Ğ´ĞµĞºÑ. Ğ¦ĞµĞ¹ Ğ¼ĞµÑ‚Ğ¾Ğ´ Ğ¼Ğ°Ñ” Ğ½Ğ°ÑÑ‚ÑƒĞ¿Ğ½Ñƒ ÑĞ¸Ğ³Ğ½Ğ°Ñ‚ÑƒÑ€Ñƒ:

```js
map((element, [index, [array]]) => { /* â€¦ */ })
```

Ğ¢Ğ¾Ğ¼Ñƒ Ğ½Ğ°Ñˆ ĞºĞ¾Ğ´ Ğ¿ĞµÑ€ĞµÑ‚Ğ²Ğ¾Ñ€Ğ¸Ñ‚ÑŒÑÑ Ğ½Ğ°:

```js
const [startDate, endDate] = dates
    .split(separator)
    .map((d, i) => (!i ? d : d + "T23:59:59.999"));
```

Ğ¢ÑƒÑ‚ Ğ¼Ğ¸ Ğ¿ĞµÑ€ĞµĞ²Ñ–Ñ€ÑÑ”Ğ¼Ğ¾, Ñ‡Ğ¸ Ñ–Ğ½Ğ´ĞµĞºÑ `i` Ñ” `truthy`, Ñ‚Ğ¾Ğ±Ñ‚Ğ¾ Ğ½Ğµ Ñ€Ñ–Ğ²Ğ½Ğ¸Ğ¹ Ğ½ÑƒĞ»Ñ, ÑĞºÑ‰Ğ¾ Ñ‚Ğ°Ğº, Ñ‚Ğ¾ Ğ¿Ñ€Ğ¾ÑÑ‚Ğ¾ Ğ¿Ğ¾Ğ²ĞµÑ€Ñ‚Ğ°Ñ”Ğ¼Ğ¾ ÑÑ‚Ñ€Ğ¾ĞºÑƒ, Ñ–Ğ½Ğ°ĞºÑˆĞµ Ğ¼Ğ¸ Ğ¾Ñ‚Ñ€Ğ¸Ğ¼Ğ°Ğ»Ğ¸ Ğ´Ñ€ÑƒĞ³Ñƒ (ĞºÑ–Ğ½Ñ†ĞµĞ²Ñƒ) Ğ´Ğ°Ñ‚Ñƒ Ğ· Ğ¿Ğ¾Ñ€ÑĞ´ĞºĞ¾Ğ²Ğ¸Ğ¼ Ñ–Ğ½Ğ´ĞµĞºÑĞ¾Ğ¼ 1 Ñ– Ğ´Ğ¾Ğ´Ğ°Ñ”Ğ¼Ğ¾ Ğ´Ğ¾ Ñ‚Ğ¾Ñ— Ğ´Ğ°Ñ‚Ğ¸ Ñ‰Ğµ Ğ¹ Ñ‡Ğ°Ñ. Ğ§Ğ¸ Ñ” Ñ‚Ğ°ĞºĞ¸Ğ¹ ĞºĞ¾Ğ´ Ğ±Ñ–Ğ»ÑŒÑˆ Ğ·Ñ€Ğ¾Ğ·ÑƒĞ¼Ñ–Ğ»Ğ¸Ğ¼, Ñ‡Ğ¸ Ğ½Ñ– - Ğ² ĞºĞ¾Ğ¶Ğ½Ğ¾Ğ¼Ñƒ Ğ²Ğ¸Ğ¿Ğ°Ğ´ĞºÑƒ Ñ‚Ñ€ĞµĞ±Ğ° Ğ²Ğ¸Ñ€Ñ–ÑˆÑƒĞ²Ğ°Ñ‚Ğ¸ Ğ¾ĞºÑ€ĞµĞ¼Ğ¾ ğŸ¤—

ĞœĞµÑ‚Ğ¾Ğ´, ÑĞºĞ¸Ğ¹ Ğ¼Ğ¸ Ğ²Ğ¸ĞºĞ¾Ñ€Ğ¸ÑÑ‚Ğ°Ğ»Ğ¸ Ğ´Ğ»Ñ Ñ–Ñ‚ĞµÑ€ÑƒĞ²Ğ°Ğ½Ğ½Ñ Ğ·Ğ°Ğ¿Ğ¸ÑÑ–Ğ² `filter`, Ğ¿ĞµÑ€ĞµĞ±Ğ¸Ñ€Ğ°Ñ” ÑƒÑÑ– ĞµĞ»ĞµĞ¼ĞµĞ½Ñ‚Ğ¸ Ğ¼Ğ°ÑĞ¸Ğ²Ñƒ. Ğ¥Ğ¾Ñ‡Ğ° Ğ½Ğ°Ğ¼ Ğ²Ñ–Ğ´Ğ¾Ğ¼Ğ¾, Ñ‰Ğ¾ ÑĞºÑ‰Ğ¾ Ñ…Ğ¾Ñ‡ Ğ¾Ğ´Ğ¸Ğ½ Ğ· Ğ·Ğ°Ğ¿Ğ¸ÑÑ–Ğ² Ğ¼Ğ°Ñ” ÑÑ‚Ğ°Ñ‚ÑƒÑ "ĞºÑ€Ğ¸Ñ‚Ğ¸Ñ‡Ğ½Ğ¸Ğ¹", Ñ‚Ğ¾ Ğ¾Ğ´Ñ€Ğ°Ğ·Ñƒ Ğ¼Ğ¾Ğ¶Ğ½Ğ° Ğ¿Ğ¾Ğ²ĞµÑ€Ñ‚Ğ°Ñ‚Ğ¸ `true` Ñ– Ğ±Ñ–Ğ»ÑŒÑˆĞµ Ğ½Ğµ Ñ–Ñ‚ĞµÑ€ÑƒĞ²Ğ°Ñ‚Ğ¸ Ğ´Ğ°Ğ»Ñ–. Ğ¢Ğ¾Ğ¼Ñƒ Ñ‚ÑƒÑ‚ ĞºÑ€Ğ°Ñ‰Ğµ Ğ²Ğ¸ĞºĞ¾Ñ€Ğ¸ÑÑ‚Ğ°Ñ‚Ğ¸ Ğ¼ĞµÑ‚Ğ¾Ğ´ [some](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/some).

ĞœĞµÑ‚Ğ¾Ğ´ `some()` Ğ¿ĞµÑ€ĞµĞ²Ñ–Ñ€ÑÑ”, Ñ‡Ğ¸ Ğ¿Ñ€Ğ¸Ğ½Ğ°Ğ¹Ğ¼Ğ½Ñ– Ğ¾Ğ´Ğ¸Ğ½ ĞµĞ»ĞµĞ¼ĞµĞ½Ñ‚ Ñƒ Ğ¼Ğ°ÑĞ¸Ğ²Ñ– Ğ¿Ñ€Ğ¾Ñ…Ğ¾Ğ´Ğ¸Ñ‚ÑŒ Ğ¿ĞµÑ€ĞµĞ²Ñ–Ñ€ĞºÑƒ, Ñ€ĞµĞ°Ğ»Ñ–Ğ·Ğ¾Ğ²Ğ°Ğ½Ñƒ Ğ½Ğ°Ğ´Ğ°Ğ½Ğ¾Ñ Ñ„ÑƒĞ½ĞºÑ†Ñ–Ñ”Ñ. Ğ’Ñ–Ğ½ Ğ¿Ğ¾Ğ²ĞµÑ€Ñ‚Ğ°Ñ” `true`, ÑĞºÑ‰Ğ¾ Ğ² Ğ¼Ğ°ÑĞ¸Ğ²Ñ– Ğ·Ğ½Ğ°Ñ…Ğ¾Ğ´Ğ¸Ñ‚ÑŒ ĞµĞ»ĞµĞ¼ĞµĞ½Ñ‚, Ğ´Ğ»Ñ ÑĞºĞ¾Ğ³Ğ¾ Ğ½Ğ°Ğ´Ğ°Ğ½Ğ° Ñ„ÑƒĞ½ĞºÑ†Ñ–Ñ Ğ¿Ğ¾Ğ²ĞµÑ€Ñ‚Ğ°Ñ” `true`; Ñ–Ğ½Ğ°ĞºÑˆĞµ Ğ²Ñ–Ğ½ Ğ¿Ğ¾Ğ²ĞµÑ€Ñ‚Ğ°Ñ” `false`. Ğ¦Ğµ Ğ½Ğµ Ğ·Ğ¼Ñ–Ğ½ÑÑ” Ğ¼Ğ°ÑĞ¸Ğ².

Ğ ĞµĞ·ÑƒĞ»ÑŒÑ‚Ğ°Ñ‚ Ğ²Ğ¸ĞºĞ¾Ğ½Ğ°Ğ½Ğ½Ñ Ñ†ÑŒĞ¾Ğ³Ğ¾ Ğ¼ĞµÑ‚Ğ¾Ğ´Ñƒ Ğ¼Ğ¾Ğ¶Ğ½Ğ° Ğ¾Ğ´Ñ€Ğ°Ğ·Ñƒ Ğ¿Ğ¾Ğ²ĞµÑ€Ñ‚Ğ°Ñ‚Ğ¸ Ñ– Ğ½Ğµ Ğ·Ğ°Ğ¿Ğ¸ÑÑƒĞ²Ğ°Ñ‚Ğ¸ Ğ² Ğ·Ğ¼Ñ–Ğ½Ğ½Ñƒ. Ğ Ğ½Ğ° Ğ²Ñ…Ñ–Ğ´ Ğ¼Ğ¾Ğ¶Ğ½Ğ° Ğ¿Ğ¾Ğ´Ğ°Ñ‚Ğ¸ Ğ²Ñ…Ñ–Ğ´Ğ½Ñƒ Ğ·Ğ¼Ñ–Ğ½Ğ½Ñƒ `string`, ÑĞºÑƒ Ğ¾Ğ´Ñ€Ğ°Ğ·Ñƒ Ğ¿ĞµÑ€ĞµÑ‚Ğ²Ğ¾Ñ€Ğ¸Ğ¼Ğ¾ Ğ½Ğ° Ğ¼Ğ°ÑĞ¸Ğ² Ğ¼ĞµÑ‚Ğ¾Ğ´Ğ¾Ğ¼ `split`.

ĞšÑ–Ğ½Ñ†ĞµĞ²Ğ¸Ğ¹ ĞºĞ¾Ğ´ Ğ±ÑƒĞ´Ğµ Ğ¼Ğ°Ñ‚Ğ¸ Ğ²Ğ¸Ğ³Ğ»ÑĞ´:

```js
export const logMonitoring = (string = "", dates = "") => {
  const CRITICAL = ["CRIT", "ĞšĞ Ğ˜Ğ¢", "ä¸¥é‡"];
  const time = (t) => new Date(t).getTime();

  const separator = [";", "...", " - "].filter((s) => dates.includes(s));
  const [startDate, endDate] = dates
    .split(separator)
    .map((d, i) => (!i ? d : d + "T23:59:59.999"));

  return string.split("\n").some((l) => {
    const [date, status] = l.split(";");
    return (
      CRITICAL.includes(status) &&
      time(date) > time(startDate) &&
      time(date) < time(endDate)
    );
  });
};
```

ĞŸÑ€Ğ¸Ğ½Ğ°Ğ¹Ğ¼Ğ½Ñ–, Ñ‚ĞµĞ¿ĞµÑ€ Ğ½Ğ°ÑˆĞ° Ğ¿Ñ€Ğ¾Ğ³Ñ€Ğ°Ğ¼Ğ° ĞºĞ¾Ñ€Ğ¾Ñ‚ÑˆĞ° Ğ½Ñ–Ğ¶ Ñƒ Ğ¿ĞµÑ€ÑˆĞ¾Ğ¼Ñƒ Ğ²Ğ°Ñ€Ñ–Ğ°Ğ½Ñ‚Ñ– ğŸ˜…

## ĞšĞ¾Ñ€Ğ¸ÑĞ½Ñ– Ğ¿Ğ¾ÑĞ¸Ğ»Ğ°Ğ½Ğ½Ñ

[Array.prototype.filter](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/filter)

[Array.prototype.some](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/some)

[Array.prototype.map](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/map)

[Date.prototype.getTime](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date/getTime)
